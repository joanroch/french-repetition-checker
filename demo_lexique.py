#!/usr/bin/env python3
"""
DÃ©monstration du workflow du lexique personnalisÃ©.
"""

import sys
from pathlib import Path

def demo():
    print("=" * 70)
    print("DÃ‰MONSTRATION: Lexique PersonnalisÃ© pour Analyses de Texte")
    print("=" * 70)
    print()
    
    print("ğŸ“ Ã‰TAPE 1: PremiÃ¨re analyse")
    print("-" * 70)
    print("Commande: python3 generate_repetitions_report.py DNF.txt")
    print()
    print("RÃ©sultats:")
    print("  âœ“ DNF_repetitions_report.html       - Rapport HTML interactif")
    print("  âœ“ DNF_custom_lexicon.tsv            - Lexique personnalisÃ© (425 entrÃ©es)")
    print()
    print("Le lexique contient:")
    
    lexicon_path = Path("DNF_custom_lexicon.tsv")
    if lexicon_path.exists():
        with open(lexicon_path, 'r', encoding='utf-8') as f:
            lines = f.readlines()
            
        categories = {}
        for line in lines[1:]:  # Skip header
            parts = line.strip().split('\t')
            if len(parts) >= 2:
                category = parts[1]
                categories[category] = categories.get(category, 0) + 1
        
        for cat, count in sorted(categories.items()):
            print(f"    - {cat:15s}: {count:3d} mots")
    
    print()
    print("âœï¸  Ã‰TAPE 2: Ã‰dition du lexique")
    print("-" * 70)
    print("Ouvrez DNF_custom_lexicon.tsv dans votre Ã©diteur prÃ©fÃ©rÃ©:")
    print()
    print("  1. Excel/LibreOffice:")
    print("     - Ouvrir le fichier .tsv")
    print("     - SÃ©lectionner dÃ©limiteur: Tabulation")
    print("     - Modifier les catÃ©gories")
    print("     - Enregistrer au format TSV")
    print()
    print("  2. VS Code (avec extension Rainbow CSV):")
    print("     - Ouvrir: code DNF_custom_lexicon.tsv")
    print("     - Ã‰diter directement")
    print("     - Sauvegarder: Cmd+S / Ctrl+S")
    print()
    print("  3. Ã‰diteur de texte:")
    print("     - nano DNF_custom_lexicon.tsv")
    print("     - vim DNF_custom_lexicon.tsv")
    print()
    print("Exemples de modifications:")
    print()
    print("  Avant:")
    print("  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("  â”‚ mot        â”‚ catÃ©gorie  â”‚ lemme      â”‚ notes   â”‚")
    print("  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")
    print("  â”‚ running    â”‚ INCONNU    â”‚ running    â”‚         â”‚")
    print("  â”‚ trail      â”‚ INCONNU    â”‚ trail      â”‚         â”‚")
    print("  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("  AprÃ¨s:")
    print("  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("  â”‚ mot        â”‚ catÃ©gorie  â”‚ lemme      â”‚ notes           â”‚")
    print("  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")
    print("  â”‚ running    â”‚ ETRANGER   â”‚ running    â”‚ anglais         â”‚")
    print("  â”‚ trail      â”‚ ETRANGER   â”‚ trail      â”‚ anglais         â”‚")
    print("  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("ğŸ”„ Ã‰TAPE 3: RÃ©gÃ©nÃ©ration du rapport")
    print("-" * 70)
    print("Commande: python3 generate_repetitions_report.py DNF.txt")
    print()
    print("Le systÃ¨me:")
    print("  1. DÃ©tecte DNF_custom_lexicon.tsv")
    print("  2. Charge vos modifications")
    print("  3. Applique votre classification")
    print("  4. GÃ©nÃ¨re le rapport mis Ã  jour")
    print()
    print("RÃ©sultat:")
    print("  âœ“ Nouvelle section 'Mots Ã©trangers' dans le rapport HTML")
    print("  âœ“ Classification personnalisÃ©e appliquÃ©e")
    print("  âœ“ Statistiques mises Ã  jour")
    print()
    print("=" * 70)
    print("ğŸ“š CATÃ‰GORIES SUPPORTÃ‰ES")
    print("=" * 70)
    print()
    print("  NOM_PROPRE  - Noms propres (personnes, lieux, marques)")
    print("              Exemples: Joan, MontrÃ©al, St-Laurent, Adidas")
    print()
    print("  ACRONYME    - Acronymes et sigles")
    print("              Exemples: DNF, GRA1, COVID, USA, ADN")
    print()
    print("  ETRANGER    - Mots Ã©trangers")
    print("              Exemples: hello, running, trail, pace")
    print()
    print("  INCONNU     - Mots non identifiÃ©s (nÃ©ologismes, erreurs)")
    print("              Exemples: bigorexie, anxiogÃ¨ne")
    print()
    print("=" * 70)
    print("ğŸ’¡ CONSEILS")
    print("=" * 70)
    print()
    print("  â€¢ Utilisez le champ 'notes' pour documenter vos choix")
    print("  â€¢ Regroupez les variantes avec le mÃªme 'lemme'")
    print("  â€¢ Versionnez le fichier .tsv avec Git")
    print("  â€¢ Partagez le lexique avec votre Ã©quipe")
    print("  â€¢ Sauvegardez vos modifications avant rÃ©gÃ©nÃ©ration")
    print()
    print("=" * 70)
    print("ğŸ“– Documentation complÃ¨te: LEXIQUE_PERSONNALISE.md")
    print("=" * 70)
    print()

if __name__ == '__main__':
    demo()
